# =============================================================================
# LearnTwinChain Backend Environment Configuration
# =============================================================================
# Copy this file to .env and update the values with your actual credentials
# Run: cp env.example .env
# =============================================================================

# =============================================================================
# üîß APPLICATION CONFIGURATION
# =============================================================================
ENVIRONMENT=development
DEBUG=True
HOST=0.0.0.0
PORT=8000
API_V1_STR=/api/v1

# =============================================================================
# üóÑÔ∏è DATABASE CONFIGURATION
# =============================================================================

# MongoDB Configuration
MONGODB_URI=mongodb://localhost:27017/learntwinchain
MONGODB_DB_NAME=learntwinchain

# Redis Configuration (Session Management & Caching)
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# =============================================================================
# üîê SECURITY & AUTHENTICATION
# =============================================================================

# JWT Configuration (Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))")
JWT_SECRET_KEY=your_super_secret_jwt_key_here_min_32_chars
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Session Configuration
SESSION_SECRET_KEY=your_super_secret_session_key_here_min_32_chars
SESSION_EXPIRE_HOURS=24

# CORS Configuration
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:5180
ALLOWED_HOSTS=localhost,127.0.0.1

# Frontend URL
FRONTEND_URL=http://localhost:5173

# =============================================================================
# üìß EMAIL SERVICE CONFIGURATION
# =============================================================================
# Gmail example - Enable 2FA and use App Password
MAIL_USERNAME=your_email@gmail.com
MAIL_PASSWORD=your_gmail_app_password
MAIL_FROM=your_email@gmail.com
MAIL_PORT=587
MAIL_SERVER=smtp.gmail.com
MAIL_FROM_NAME=LearnTwinChain Platform
MAIL_STARTTLS=True
MAIL_SSL_TLS=False

# Alternative Email Providers:
# Outlook: smtp-mail.outlook.com:587
# Yahoo: smtp.mail.yahoo.com:587
# SendGrid: smtp.sendgrid.net:587

# =============================================================================
# ü§ñ AI SERVICES CONFIGURATION
# =============================================================================

# Google Gemini AI Configuration
# Get your key from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your_google_gemini_api_key_here

# Milvus/Zilliz Cloud Configuration (Vector Database for RAG)
# Sign up at: https://cloud.zilliz.com/
MILVUS_URI=your_milvus_cluster_uri
MILVUS_USER=your_milvus_username
MILVUS_PASSWORD=your_milvus_password

# =============================================================================
# üîó BLOCKCHAIN CONFIGURATION
# =============================================================================

# Blockchain Network Settings
NETWORK=polygon_amoy
CHAIN_ID=80002

# RPC URLs (Get from Alchemy, Infura, or QuickNode)
BLOCKCHAIN_RPC_URL=https://polygon-amoy.g.alchemy.com/v2/your_alchemy_api_key
ETHEREUM_RPC_URL=https://eth-sepolia.g.alchemy.com/v2/your_alchemy_api_key
POLYGON_RPC_URL=https://polygon-amoy.g.alchemy.com/v2/your_alchemy_api_key
SEPOLIA_RPC_URL=https://eth-sepolia.g.alchemy.com/v2/your_alchemy_api_key

# Private Keys (DO NOT include 0x prefix, keep these secret!)
BLOCKCHAIN_PRIVATE_KEY=your_deployer_private_key_without_0x_prefix
PRIVATE_KEY=your_deployer_private_key_without_0x_prefix
STUDENT_PRIVATE_KEY=your_test_student_private_key_without_0x_prefix

# Contract Addresses (Auto-populated after deployment)
DIGITAL_TWIN_REGISTRY=0x0000000000000000000000000000000000000000
DIGITAL_TWIN_REGISTRY_ADDRESS=0x0000000000000000000000000000000000000000
LEARNING_DATA_REGISTRY=0x0000000000000000000000000000000000000000
MODULE_PROGRESS_NFT=0x0000000000000000000000000000000000000000
MODULE_PROGRESS_NFT_ADDRESS=0x0000000000000000000000000000000000000000
MODULE_PROGRESS_VERIFIER=0x0000000000000000000000000000000000000000
LEARNING_ACHIEVEMENT_NFT=0x0000000000000000000000000000000000000000
LEARNING_ACHIEVEMENT_VERIFIER=0x0000000000000000000000000000000000000000
ZK_LEARNING_VERIFIER=0x0000000000000000000000000000000000000000
ZKP_CERTIFICATE_REGISTRY=0x0000000000000000000000000000000000000000

# Legacy contract addresses (for backward compatibility)
SKILL_NFT_ADDRESS=0x0000000000000000000000000000000000000000
NFT_CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000
REGISTRY_CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000

# =============================================================================
# üìÅ IPFS & DECENTRALIZED STORAGE
# =============================================================================

# Pinata Configuration (Recommended)
# Sign up at: https://pinata.cloud/
PINATA_API_KEY=your_pinata_api_key
PINATA_SECRET_API_KEY=your_pinata_secret_api_key
IPFS_API_URL=https://api.pinata.cloud
IPFS_GATEWAY_URL=https://gateway.pinata.cloud
IPFS_GATEWAY=https://gateway.pinata.cloud/ipfs/

# Web3.Storage Configuration (Alternative)
# Sign up at: https://web3.storage/
WEB3_STORAGE_TOKEN=your_web3_storage_api_token

# Cloudflare IPFS Gateway (for faster access)
CLOUDFLARE_IPFS_GATEWAY=https://cloudflare-ipfs.com

# =============================================================================
# üîÑ BACKGROUND TASKS (CELERY)
# =============================================================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# =============================================================================
# üîê SIWE (Sign-In with Ethereum) CONFIGURATION
# =============================================================================
SIWE_DOMAIN=localhost:5173
SIWE_URI=http://localhost:5173

# =============================================================================
# üéõÔ∏è DIGITAL TWIN SETTINGS
# =============================================================================
TWIN_UPDATE_INTERVAL=60
MAX_HISTORY_LENGTH=1000
BLOCKCHAIN_NETWORK=localhost
BLOCKCHAIN_PORT=8545

# =============================================================================
# üìä LOGGING & MONITORING
# =============================================================================
LOG_LEVEL=INFO
LOG_FILE=logs/digital_twin.log

# =============================================================================
# üîß ADDITIONAL CONFIGURATION
# =============================================================================

# Database URL (Legacy, for compatibility)
DATABASE_URL=sqlite:///./digital_twin.db

# LLM Configuration (Legacy)
LLM_API_KEY=your_llm_api_key
LLM_MODEL=gpt-4

# =============================================================================
# üìù SETUP INSTRUCTIONS
# =============================================================================
# 
# 1. SECURITY KEYS:
#    Generate secure keys with: python -c "import secrets; print(secrets.token_urlsafe(64))"
#
# 2. EMAIL SETUP (Gmail):
#    - Enable 2-Factor Authentication
#    - Generate App Password: https://support.google.com/accounts/answer/185833
#    - Use the App Password (not your regular password)
#
# 3. BLOCKCHAIN SETUP:
#    - Get RPC URLs from Alchemy: https://alchemy.com/
#    - Create wallet and export private key (remove 0x prefix)
#    - Get testnet tokens from faucets:
#      * Polygon Amoy: https://faucet.polygon.technology/
#      * Sepolia: https://sepoliafaucet.com/
#
# 4. AI SERVICES:
#    - Gemini API: https://aistudio.google.com/app/apikey
#    - Milvus Cloud: https://cloud.zilliz.com/
#
# 5. IPFS SETUP:
#    - Pinata: https://pinata.cloud/keys
#    - Web3.Storage: https://web3.storage/tokens/
#
# 6. CONTRACT DEPLOYMENT:
#    - Run: python scripts/deploy_contracts.py
#    - Update contract addresses above
#
# 7. DOCUMENT UPLOAD (RAG):
#    - Run: python rag/upload_docs.py
#
# =============================================================================
# ‚ö†Ô∏è SECURITY WARNINGS
# =============================================================================
# 
# - NEVER commit this file with real credentials to version control
# - Use environment-specific .env files (.env.development, .env.production)
# - Rotate API keys and passwords regularly
# - Use strong, unique passwords for all services
# - Keep private keys secure and never share them
# - Use testnet for development, mainnet for production only
#
# =============================================================================